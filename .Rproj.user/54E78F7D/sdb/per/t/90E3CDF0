{
    "collab_server" : "",
    "contents" : "#' Train the CRF model with subset of DMC labels.\n#'\n#' @param dt Data matrix resulted from load_data(), containing CRF features.\n#' @param train_path Path of the training DMC labels, which is a bed file containg a subset of dt where DMC labels are available.\n#' @param c Hyper-parameter for the CRF. With larger c value, CRF tends to overfit the training data.\n#' @param e Hyper-parameter for the CRF specifiying the termination criterion.\n#'\n\n\ntrain <- function(dt, train_path, c = 0.1, e = 0.005) {\n  train_label = read.table(train_path, header = F)\n  colnames(train_label) = c('chr', 'start', 'end', 'DMC')\n  train_dt = merge(dt, train_label, by = c('chr', 'start', 'end'), all.x = T)\n  train_dt$chr = as.character(train_dt$chr)\n  train_dt[which(is.na(train_dt$DMC)),] = ' '\n  dir.create('/tmp/LISdmr/', showWarnings = F)\n  write.table(train_dt[,8:34], '/tmp/LISdmr/train_dt', quote = F, sep = \"\\t\", col.names = F, row.names = F)\n\n  package_dir = system.file(package = \"LISdmr\")\n\n  commend = paste(package_dir, '/src/crfpp/crf_learn -c ', c, ' -e ', e, ' ', package_dir, '/src/crfpp/template/template1 /tmp/LISdmr/train_dt /tmp/LISdmr/model', sep = '')\n  system(commend)\n  print('Trained model is saved as /tmp/LISdmr/model')\n}\n\n\n",
    "created" : 1523849238573.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4205870809",
    "id" : "90E3CDF0",
    "lastKnownWriteTime" : 1523912773,
    "last_content_update" : 1523912773156,
    "path" : "~/Documents/Paper3/Rcode/Rpackage/LISdmr/R/train.R",
    "project_path" : "R/train.R",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}